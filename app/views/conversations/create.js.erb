$('#frame').replaceWith('<%= j render 'conversations/conversation' %>');
if (document.querySelector('#chat-messages')) {
  var chat_messages = document.querySelector('#chat-messages');
  chat_messages.scrollTop = chat_messages.scrollHeight;
}

/* DELETE: old code
//find an existing conversation window in the ‘#conversations-list’ div.
var conversations = $('#conversations-list');
var conversation = conversations.find("[data-conversation-id='" + "<%= @conversation.id %>" + "']");

//If it doesn’t exist, we add to the ‘#conversations-list’ div a new conversation.
if (conversation.length !== 1) {
  conversations.append("<%= j(render 'conversations/conversation', conversation: @conversation, user: current_user) %>");
  //we need to reassign to the conversation variable added element
  conversation = conversations.find("[data-conversation-id='" + "<%= @conversation.id %>" + "']");
}

//call the show() method to display a conversation’s window
conversation.find('.panel-body').show();


//check the height of the window and scroll to the bottom of it
var messages_list = conversation.find('.messages-list');
//var height = messages_list[0].scrollHeight;
//messages_list.scrollTop(height);
*/
